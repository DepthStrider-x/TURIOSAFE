<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Assistant - TourioSafe</title>
    <link rel="stylesheet" href="chat.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- NAVBAR -->
    <header>
        <nav class="navbar">
            <a href="index.html" class="navbar-brand">
                <img src="images/logo.png" class="logo">
                <span>TOURIOSAFE</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="https://www.google.com/maps" target="_blank" rel="noopener">Map</a></li>
                <li><a href="#">My Trips</a></li>
                <li><a href="report-incident.html">Report Incident</a></li>
                <li><a href="contact.html">Contact</a></li>
                <button id="sosBtn" class="sos-button" data-tooltip="Emergency SOS Alert">ğŸš¨ SOS</button>
            </ul>
        </nav>
    </header>

    <!-- CHAT CONTAINER -->
    <div class="chat-container">
        <div class="chat-header">
            <div class="chat-title">
                <h1>ğŸ›¡ï¸ TOURIOBOT</h1>
                <p class="chat-subtitle">Your 24/7 Travel Safety Companion</p>
            </div>
            
            <!-- Language & Location Controls -->
            <div class="chat-controls">
                <select id="languageSelect" class="language-dropdown">
                    <option value="English">ğŸ‡ºğŸ‡¸ English</option>
                    <option value="Hindi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤‚à¤¦à¥€</option>
                    <option value="Japanese">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                </select>
                
                <button id="locationBtn" class="location-btn" title="Share Location">ğŸ“</button>
                <button id="sosQuickBtn" class="sos-quick-btn" title="Emergency SOS">ğŸš¨</button>
            </div>
        </div>

        <!-- CHAT MESSAGES -->
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="message-avatar">ğŸ¤–</div>
                <div class="message-content">
                    <p>Hello! I'm TOURIOBOT your Safety Assistant. I can help you with:</p>
                    <ul>
                        <li>ğŸš¨ Emergency assistance</li>
                        <li>ğŸ“ Finding nearby police stations & hospitals</li>
                        <li>ğŸ›¡ï¸ Travel safety tips</li>
                        <li>ğŸ—ºï¸ Local area information</li>
                    </ul>
                    <p>How can I help you stay safe today?</p>
                </div>
                <div class="message-time" id="welcomeTime"></div>
            </div>
        </div>

        <!-- QUICK REPLIES -->
        <div class="quick-replies" id="quickReplies">
            <button class="quick-reply-btn" data-message="help">ğŸš¨ Emergency Help</button>
            <button class="quick-reply-btn" data-message="nearest police station">ğŸš” Find Police Station</button>
            <button class="quick-reply-btn" data-message="travel safety tips">ğŸ›¡ï¸ Safety Tips</button>
            <button class="quick-reply-btn" data-message="I'm lost">ğŸ“ I'm Lost</button>
        </div>

        <!-- CHAT INPUT -->
        <div class="chat-input">
            <div class="input-container">
                <input type="text" id="messageInput" placeholder="Type your message or ask for help..." maxlength="500">
                <button id="sendBtn" class="send-btn" title="Send Message">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
            <div class="input-footer">
                <span class="location-status" id="locationStatus">ğŸ“ Location: Not shared</span>
                <span class="character-count" id="charCount">0/500</span>
            </div>
        </div>
    </div>

    <!-- SOS MODAL -->
    <div id="sosModal" class="modal hidden">
        <div class="modal-content">
            <h2>ğŸš¨ Emergency Alert</h2>
            <p>This will send an immediate SOS alert with your current location to emergency contacts and local authorities.</p>
            <div class="modal-buttons">
                <button onclick="sendSOS()" class="sos-confirm-btn">ğŸš¨ Send SOS Alert</button>
                <button onclick="closeModal()" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- LOADING INDICATOR -->
    <div class="loading-indicator hidden" id="loadingIndicator">
        <div class="loading-spinner"></div>
        <span>Safety Assistant is thinking...</span>
    </div>

    <!-- OFFLINE NOTICE -->
    <div class="offline-notice hidden" id="offlineNotice">
        <span>âš ï¸ You're offline. Some features may not work.</span>
    </div>

    <script src="chatbot.js"></script>
    <script>
        // Initialize welcome time
        document.getElementById('welcomeTime').textContent = new Date().toLocaleTimeString();
        
        // Initialize SOS button functionality
        document.getElementById('sosBtn').addEventListener('click', function() {
            document.getElementById('sosModal').classList.remove('hidden');
        });
        
        document.getElementById('sosQuickBtn').addEventListener('click', function() {
            document.getElementById('sosModal').classList.remove('hidden');
        });
    </script>
</body>
</html>